<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Celestial Body Simulation</title>
    <meta name="description" content="Celestial Body Simulation">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="../style.css">
    <script src="../scripts/mathjax-script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<main>
    <!-- Navigation bar inside the main content box -->
    <nav>
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../blog.html">Engineering Blog</a></li>
            <li><a href="../docs/resume.pdf" target="_blank">Resume</a></li>
        </ul>
    </nav>
    <section>
        <div>
            <h2>0. Preface</h2>

            <p>
                This blog will act as the mathematical groundwork for future implementations of my <a href="https://github.com/m0zzaR/ThreeBodyProblem" target="_blank">Three Body Problem</a>. project.
                In order to make an accurate simulation, one should have a deep understanding of the physics behind the simulation. All of the math used here was learned in my 
                <a href="https://github.com/m0zzaR/Engineering-Mechanics-2" target="_blank">Engineering Mechanics</a> class. Derived and taught by <a href="https://me.berkeley.edu/people/ken-kamrin/" target="_blank">Prof. Ken Kamrin.</a>
            </p>
            
            <h2>1. Orbital Mechanics</h2>

            <p>
                Let's start our journey of understanding the Universe by taking into consideration a celestial body that is most familiar to us, the Earth.
                If we want to analyze the interaction between our Earth, a very massive object, and a satellite. We say that \(m << M_e\), in English
                this just means that the mass of the satellite is so much smaller than the mass of the Earth that it is inconsequential. Let's also assume that the center
                of mass of the Earth rests at the origin (0,0) and the mass of the satellite is at some distance \(\mathbf{r}(t)\).
            </p>

            <p>
                Let's first define our simple Cartesian Kinematics for a 3-dimensional space:
                <div class="math-display">
                \[
                \begin{cases}
                \mathbf{r} = x\mathbf{e}_x + y\mathbf{e}_y + z\mathbf{e}_z \\
                \mathbf{v} = \mathbf{\dot{r}} = \dot{x}\mathbf{e}_x + \dot{y}\mathbf{e}_y + \dot{z}\mathbf{e}_z \\
                \mathbf{a} = \mathbf{\dot{v}} = \ddot{x}\mathbf{e}_x + \ddot{y}\mathbf{e}_y + \ddot{z}\mathbf{e}_z
                \end{cases}
                \]
                </div>
                Next we define the force the satellite feels from the mass of the Earth, as Newton's Inverse Square Law:
                <div class="math-display">
                \[
                \mathbf{F}_g = G\frac{M_em}{|\mathbf{r}|^2}[\frac{-\mathbf{r}}{|\mathbf{r}|}]
                \]
                </div>
                Now, for simplicity's sake, let's define:
                <div class="math-display">
                \[B = GM_e\]
                </div>
                And sum the forces:
                <div class="math-display">
                \[
                \sum\mathbf{F} = m\mathbf{a} \sim -B\frac{\mathbf{r}}{|\mathbf{r}|^3}  = \mathbf{a}
                \]
                </div>
                This is called the "trajectory equation". Note also that since the force the satellite exerts on the Earth is extremely small, we can omit it from our equation of acceleration.
            </p>

            <p>
                We can also define \(\mathbf{F}_g\) as a potential, which will allow us to calculate the escape velocity on Earth:
                <div class="math-display">
                \[
                \mathbf{F}_g = -\nabla \mathbf{U}_g
                \]
                </div>
            </p>
            <p style="text-align: center;">
                Where
            </p>

            <p>
                <div class="math-display">
                \[
                U_g = -B\frac{m}{|\mathbf{r}|}
                \]
                </div>
            </p>
            <p>
                Using the work-energy theorem:
                <div class="math-display">
                \[
                \begin{cases}
                E(\text{right after launch}) = \frac{1}{2}mv^2 -B\frac{m}{|\mathbf{r}|} \\
                E(\text{at escape}) = \frac{1}{2}m(0)^2 - -B\frac{m}{\infty} = 0
                \end{cases}
                \]
                </div>
            </p>
            <p>
                Equating both E(right after launch) and E(at escape) allows us to solve for \(v_e\):
                <div class="math-display">
                \[
                v_e = \sqrt{\frac{2B}{|\mathbf{r}|}} = 11,200 \frac{m}{s}
                \]
                </div>
            </p>
            <p>
                Unfortunately, the work-energy theorem cannot tell us anything about trajectories since \(v_e\) is a magnitude and not a vector. 
                In order to get more details, let's augment this with another conservation law, Angular Momentum:
                <div class="math-display">
                \[
                \mathbf{H} = m\mathbf{r} \times \mathbf{v}
                \]
                </div>
                It is important to note here that \(\mathbf{r}\) and \(\mathbf{v}\) always lie in the same plane. Two objects in space will always have 
                velocity and distance vectors that are perpendicular to each other. 
            </p>

            <p>
                Let's find some explicit expressions for \(\mathbf{r}\) and \(\mathbf{v}\) using kinematics in polar coordinates:
                <div class="math-display">
                \[
                \begin{cases}
                \mathbf{r} = r\mathbf{e}_r \\
                \mathbf{v} = \mathbf{\dot{r}} = \dot{r}\mathbf{e}_r + r\dot{\theta}\mathbf{e}_\theta \\
                \end{cases}
                \]
                </div>
            </p>

            <p>
                Now \(\mathbf{H}\) can be expressed as such:
                <div class="math-display">
                \[
                \mathbf{H} = mr\mathbf{e}_r \times (\dot{r}\mathbf{e}_r + r\dot{\theta}\mathbf{e}_\theta)
                \]
                \[
                mr^2\dot{\theta}\mathbf{e}_z = H_0\mathbf{e}_z
                \]
                \[
                \dot{\theta} = \frac{H_0}{mr^2}
                \]
                </div>
            </p>

            <p>
                After this point, I cannot really explain what my professor did, but nonetheless here it is... (I plan to continue this derivation)
                <div class="math-display">
                \[
                \frac{1}{2}mv^2 -B\frac{m}{|\mathbf{r}|} = E_0
                \]
                \[
                \frac{1}{2}m(\dot{r}^2 + (r\dot{\theta})^2) -B\frac{m}{|\mathbf{r}|} = E_0
                \]
                \[
                \frac{1}{2}m(\dot{r}^2 + (r\frac{H_0}{mr^2})^2) -B\frac{m}{|\mathbf{r}|} = E_0
                \]
                \[
                r(\theta) = \frac{dr}{d\theta}\dot{\theta} = \dot{r} = \frac{dr}{d\theta}\frac{H_0}{mr^2}
                \]
                \[
                \frac{1}{2}m((\frac{dr}{d\theta}\frac{H_0}{mr^2})^2 + (\frac{H_0}{mr})^2) -B\frac{m}{|\mathbf{r}|} = E_0
                \]
                \[
                \frac{dr}{d\theta} = \frac{m^2r^4}{H_0^2}[\frac{2}{m}(E_0 + \frac{Bm}{r}) - \frac{H_0^2}{m^2r^2}]
                \]
                </div>
            </p>

            <h2>3. Orbital Geometry</h2>

            <p>
                Solveing the equations above using seperation of variables and we find \(r(\theta)\), the Orbit Equation, which defines all the different paths two orbiting bodies can make:
                <div class="math-display">
                \[
                r(\theta) = \frac{P}{1 + e\cos(\theta - \phi)}
                \]
                </div>
            </p>
            <p style="text-align: center;">
                Where
            </p>
            <p style="text-align: center;">
                Trajectory Parameter: \( P = \frac{H_0^2}{m^2B}\)
            </p>
            <p style="text-align: center;">
                Eccentricity: \( e = \sqrt{1 + \frac{2E_0H_0^2}{m^3B^3}} \)
            </p>
            <p style="text-align: center;">
                Offset Angle: \( \theta_i - \cos^\text{-1}(\frac{P - r_i}{er_i}) \)
            </p>
            <p>
                This equation defines "conic sections" in orbits.
            </p>
            <img src="../docs/conic-section.jpg" alt="Conic Sections" style="width:100%; max-width:600px;">
            <p>
                When \( e = 0 \), the orbit is a circle.
            </p>
            <p>
                When \( 0 < e < 1 \), the orbit is an ellipse.
            </p>
            <p>
                When \( e = 1 \), the orbit is a parabola.
            </p>
            <p>
                When \( e > 1 \), the orbit is a hyperbola.
            </p>

            <p>
                Let's talk a little bit about how elliptical orbits work. As all orbits are elliptical.
            </p>
            <img src="../docs/elliptical-orbit-definitions.svg" alt="elliptical orbit" style="width:100%; max-width:600px;">

            <p>
                The pariapsis \(r_p\) and the apoapsis \(r_a\) correspond to the length between the focii and the end of an orbit.
                There are two definitions for this length in elliptical orbits. We'll define them here.
            </p>
            <div class="math-display">
                \[
                r_p = \frac{P}{1 + e}  (\beta = 0)
                \]
                \[
                r_p = \frac{P}{1 - e}  (\beta = \pi)
                \]
                \[
                e = \frac{r_a - r_p}{r_a + r_p}
                \]
            </div>

            <h2> Kepler's Laws </h2>

            <p> Kepler wanted to find a relationship ship between the area of a slice in an elliptical orbit and the time it took to travese the outer edge of that slice.
                He did this without Calculus. Although that is very impressive, we will be using Calculus in this blog because we are not as cool as Kepler.
            </p>

            <p>
                First lets find an equation for the area of a slice from \(\mathbf{r}(t_1)\) and \(\mathbf{r}(t_2)\).
            </p>
            <img src="../docs/area_orbit.png" alt="r(t1) and r(t2)" style="width:100%; max-width:600px;">

            <p> The area of the slice is given by the following:</p>
            <div class="math-display">
                \[
                A = \int_{\theta_1}^{\theta_2} \frac{1}{2} \hat{r}(\theta)^2 \, d\theta
                \]
            </div>
            <p style="text-align: center;">
                And since \(\theta\) is a function of t:
            </p>

            <div class="math-display">
                \[
                A = \int_{t_1}^{t_2} \frac{1}{2} \hat{r}(\theta(t))^2 \frac{d\theta}{dt}\, dt
                \]
            </div>

            <p style="text-align: center;">
                Which simplifies to:
            </p>
            <div class="math-display"></div>
                \[
                A = \int_{t_1}^{t_2} \frac{1}{2m} H_0 dt
                \]
            </div>
            <p style="text-align: center;">
                And finally:
            </p>
            <div class="math-display"></div>
                \[
                A_\text{Slice} = \frac{H_0}{2m}(t_2 - t_1)
                \]
            </div>

            <p> This is Kepler's second law which states; "Equal area, equal time"</p>

            <h3>Orbital Period</h3>
            <p> What is the area of a full orbit? or, area of Ecclipse?</p>

            <div class="math-display">
                \[
                A = \int_{0}^{2\pi} \frac{1}{2} \hat{r}(\theta)^2 \, d\theta
                \]
                \[
                A = \int_{0}^{2\pi} \frac{1}{2} [\frac{P}{1 + eCos(\theta - \phi)}]^2 \, d\theta
                \]
                \[
                A_\text{Ecclipse} = \frac{\pi P^2}{(1-e)^{3/2}}
                \]
            </div>
            
            <p> Now if we set \(A_\text{Slice} = A_\text{Ecclipse}\) we can solve for the total time it takes to make a full orbit:</p>

            <div class="math-display">
                \[
                \frac{H_0}{2m}(t_2 - t_1) = \frac{\pi P^2}{(1-e)^{3/2}}
                \]
            </div>
            <p style="text-align: center;";>
                Where
            </p>
            <div class="math-display">
                \[
                \frac{H}{m} = \sqrt{BP}
                \]
                \[
                \delta t_\text{total} = \frac{2\pi P^{3/2}}{\sqrt{B}} (\frac{1}{(1-e)^{3/2}})
                \]
                \[
                \delta t_\text{total} = \frac{2\pi}{\sqrt{B}}r_a^{3/2}
                \]
            </div>

            <p> This is Kepler's Thrid Law</p>
        
            <h2> Vis - Viva Equation </h2>

            <h2>TO BE CONTINUED</h2>
        </div>
    </section>
</main>
</html>
